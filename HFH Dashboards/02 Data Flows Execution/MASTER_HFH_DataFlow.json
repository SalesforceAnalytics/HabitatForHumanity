{
  "X01_03_Race_White": {
    "action": "computeExpression",
    "parameters": {
      "mergeWithSource": true,
      "computedFields": [
        {
          "name": "Race",
          "label": "Race",
          "type": "Text",
          "saqlExpression": "\"White\"",
          "defaultValue": "\"White\""
        },
        {
          "name": "Homeownership_Rate",
          "label": "Homeownership Rate",
          "type": "Numeric",
          "saqlExpression": "'Homeownership_Rate_White'",
          "precision": 18,
          "scale": 4,
          "defaultValue": "0"
        }
      ],
      "source": "X01_02_enrich_CountyState"
    }
  },
  "X01_03_Race_Pacific_Islander": {
    "action": "computeExpression",
    "parameters": {
      "mergeWithSource": true,
      "computedFields": [
        {
          "name": "Race",
          "label": "Race",
          "type": "Text",
          "saqlExpression": "\"Pacific Islander\"",
          "defaultValue": "\"Pacific Islander\""
        },
        {
          "name": "Homeownership_Rate",
          "label": "Homeownership Rate",
          "type": "Numeric",
          "saqlExpression": "'Homeownership_Rate_Pacific_Islander'",
          "precision": 18,
          "scale": 4,
          "defaultValue": "0"
        }
      ],
      "source": "X01_02_enrich_CountyState"
    }
  },
  "X01_03_Race_Total": {
    "action": "computeExpression",
    "parameters": {
      "mergeWithSource": true,
      "computedFields": [
        {
          "name": "Race",
          "label": "Race",
          "type": "Text",
          "saqlExpression": "\"Total\"",
          "defaultValue": "\"Total\""
        },
        {
          "name": "Homeownership_Rate",
          "label": "Homeownership Rate",
          "type": "Numeric",
          "saqlExpression": "'Homeownership_Rate_Total'",
          "precision": 18,
          "scale": 4,
          "defaultValue": "0"
        }
      ],
      "source": "X01_02_enrich_CountyState"
    }
  },
  "X01_06_register_EDRaceCountTransposed": {
    "action": "sfdcRegister",
    "parameters": {
      "name": "External Data - Race Counts - Transposed",
      "alias": "External_Data_Race_Counts_Transposed",
      "source": "X01_05_split_CoreRows"
    }
  },
  "X01_03_Race_Black": {
    "action": "computeExpression",
    "parameters": {
      "mergeWithSource": true,
      "computedFields": [
        {
          "name": "Race",
          "label": "Race",
          "type": "Text",
          "saqlExpression": "\"Black\"",
          "defaultValue": "\"Black\""
        },
        {
          "name": "Homeownership_Rate",
          "label": "Homeownership Rate",
          "type": "Numeric",
          "saqlExpression": "'Homeownership_Rate_Black'",
          "precision": 18,
          "scale": 4,
          "defaultValue": "0"
        }
      ],
      "source": "X01_02_enrich_CountyState"
    }
  },
  "X01_02_enrich_CountyState": {
    "action": "computeExpression",
    "parameters": {
      "source": "X01_01_get_EDRaceCounts",
      "mergeWithSource": true,
      "computedFields": [
        {
          "defaultValue": "\"--\"",
          "name": "County",
          "saqlExpression": "'Geography'",
          "label": "County",
          "type": "Text"
        },
        {
          "defaultValue": "\"California\"",
          "name": "State",
          "saqlExpression": "\"California\"",
          "label": "State",
          "type": "Text"
        }
      ]
    }
  },
  "X02_01_get_EDSalePrice": {
    "action": "edgemart",
    "parameters": {
      "alias": "External_Data_Median_Sales_Price_by_County_by_Year"
    }
  },
  "X02_06_register_EDSalePrice": {
    "action": "sfdcRegister",
    "parameters": {
      "name": "External Data - Median Sales Price",
      "alias": "External_Data_Median_Sales_Price",
      "source": "X02_05_split_CoreRows"
    }
  },
  "X02_04_append_ALL": {
    "action": "append",
    "parameters": {
      "sources": [
        "X02_03_enrich_2008",
        "X02_03_enrich_2009",
        "X02_03_enrich_2010",
        "X02_03_enrich_2011",
        "X02_03_enrich_2012",
        "X02_03_enrich_2013",
        "X02_03_enrich_2014",
        "X02_03_enrich_2015",
        "X02_03_enrich_2016",
        "X02_03_enrich_2017"
      ]
    }
  },
  "X01_03_Race_Latino": {
    "action": "computeExpression",
    "parameters": {
      "mergeWithSource": true,
      "computedFields": [
        {
          "name": "Race",
          "label": "Race",
          "type": "Text",
          "saqlExpression": "\"Latino\"",
          "defaultValue": "\"Latino\""
        },
        {
          "name": "Homeownership_Rate",
          "label": "Homeownership Rate",
          "type": "Numeric",
          "saqlExpression": "'Homeownership_Rate_Latino'",
          "precision": 18,
          "scale": 4,
          "defaultValue": "0"
        }
      ],
      "source": "X01_02_enrich_CountyState"
    }
  },
  "X01_04_append_RaceSplits": {
    "action": "append",
    "parameters": {
      "sources": [
        "X01_03_Race_Asian",
        "X01_03_Race_Black",
        "X01_03_Race_Latino",
        "X01_03_Race_Native_American",
        "X01_03_Race_Other",
        "X01_03_Race_Pacific_Islander",
        "X01_03_Race_Total",
        "X01_03_Race_Two_or_More",
        "X01_03_Race_White"
      ]
    }
  },
  "X01_03_Race_Asian": {
    "action": "computeExpression",
    "parameters": {
      "mergeWithSource": true,
      "computedFields": [
        {
          "name": "Race",
          "label": "Race",
          "type": "Text",
          "saqlExpression": "\"Asian\"",
          "defaultValue": "\"Asian\""
        },
        {
          "name": "Homeownership_Rate",
          "label": "Homeownership Rate",
          "type": "Numeric",
          "saqlExpression": "'Homeownership_Rate_Asian'",
          "precision": 18,
          "scale": 4,
          "defaultValue": "0"
        }
      ],
      "source": "X01_02_enrich_CountyState"
    }
  },
  "X02_02_enrich_CountyState": {
    "action": "computeExpression",
    "parameters": {
      "source": "X02_01_get_EDSalePrice",
      "mergeWithSource": true,
      "computedFields": [
        {
          "defaultValue": "\"California\"",
          "name": "State",
          "saqlExpression": "\"California\"",
          "label": "State",
          "type": "Text"
        }
      ]
    }
  },
  "X02_03_enrich_2009": {
    "action": "computeExpression",
    "parameters": {
      "mergeWithSource": true,
      "computedFields": [
        {
          "name": "Year",
          "label": "Year",
          "type": "Text",
          "saqlExpression": "\"2009\"",
          "defaultValue": "\"2009\""
        },
        {
          "name": "Median_Sale_Price",
          "label": "Median Sale Price",
          "type": "Numeric",
          "saqlExpression": "'X2009'",
          "precision": 18,
          "scale": 2,
          "defaultValue": "0"
        }
      ],
      "source": "X02_02_enrich_CountyState"
    }
  },
  "X02_03_enrich_2008": {
    "action": "computeExpression",
    "parameters": {
      "mergeWithSource": true,
      "computedFields": [
        {
          "name": "Year",
          "label": "Year",
          "type": "Text",
          "saqlExpression": "\"2008\"",
          "defaultValue": "\"2008\""
        },
        {
          "name": "Median_Sale_Price",
          "label": "Median Sale Price",
          "type": "Numeric",
          "saqlExpression": "'X2008'",
          "precision": 18,
          "scale": 2,
          "defaultValue": "0"
        }
      ],
      "source": "X02_02_enrich_CountyState"
    }
  },
  "X01_03_Race_Native_American": {
    "action": "computeExpression",
    "parameters": {
      "mergeWithSource": true,
      "computedFields": [
        {
          "name": "Race",
          "label": "Race",
          "type": "Text",
          "saqlExpression": "\"Native American\"",
          "defaultValue": "\"Native American\""
        },
        {
          "name": "Homeownership_Rate",
          "label": "Homeownership Rate",
          "type": "Numeric",
          "saqlExpression": "'Homeownership_Rate_Native_American'",
          "precision": 18,
          "scale": 4,
          "defaultValue": "0"
        }
      ],
      "source": "X01_02_enrich_CountyState"
    }
  },
  "X01_03_Race_Two_or_More": {
    "action": "computeExpression",
    "parameters": {
      "mergeWithSource": true,
      "computedFields": [
        {
          "name": "Race",
          "label": "Race",
          "type": "Text",
          "saqlExpression": "\"Two or More\"",
          "defaultValue": "\"Two or More\""
        },
        {
          "name": "Homeownership_Rate",
          "label": "Homeownership Rate",
          "type": "Numeric",
          "saqlExpression": "'Homeownership_Rate_Two_or_More'",
          "precision": 18,
          "scale": 4,
          "defaultValue": "0"
        }
      ],
      "source": "X01_02_enrich_CountyState"
    }
  },
  "X01_01_get_EDRaceCounts": {
    "action": "edgemart",
    "parameters": {
      "alias": "External_Data_Race_Counts_Dataset"
    }
  },
  "X01_03_Race_Other": {
    "action": "computeExpression",
    "parameters": {
      "mergeWithSource": true,
      "computedFields": [
        {
          "name": "Race",
          "label": "Race",
          "type": "Text",
          "saqlExpression": "\"Other\"",
          "defaultValue": "\"Other\""
        },
        {
          "name": "Homeownership_Rate",
          "label": "Homeownership Rate",
          "type": "Numeric",
          "saqlExpression": "'Homeownership_Rate_Other'",
          "precision": 18,
          "scale": 4,
          "defaultValue": "0"
        }
      ],
      "source": "X01_02_enrich_CountyState"
    }
  },
  "X02_03_enrich_2010": {
    "action": "computeExpression",
    "parameters": {
      "mergeWithSource": true,
      "computedFields": [
        {
          "name": "Year",
          "label": "Year",
          "type": "Text",
          "saqlExpression": "\"2010\"",
          "defaultValue": "\"2010\""
        },
        {
          "name": "Median_Sale_Price",
          "label": "Median Sale Price",
          "type": "Numeric",
          "saqlExpression": "'X2010'",
          "precision": 18,
          "scale": 2,
          "defaultValue": "0"
        }
      ],
      "source": "X02_02_enrich_CountyState"
    }
  },
  "X02_03_enrich_2011": {
    "action": "computeExpression",
    "parameters": {
      "mergeWithSource": true,
      "computedFields": [
        {
          "name": "Year",
          "label": "Year",
          "type": "Text",
          "saqlExpression": "\"2011\"",
          "defaultValue": "\"2011\""
        },
        {
          "name": "Median_Sale_Price",
          "label": "Median Sale Price",
          "type": "Numeric",
          "saqlExpression": "'X2011'",
          "precision": 18,
          "scale": 2,
          "defaultValue": "0"
        }
      ],
      "source": "X02_02_enrich_CountyState"
    }
  },
  "X02_03_enrich_2012": {
    "action": "computeExpression",
    "parameters": {
      "mergeWithSource": true,
      "computedFields": [
        {
          "name": "Year",
          "label": "Year",
          "type": "Text",
          "saqlExpression": "\"2012\"",
          "defaultValue": "\"2012\""
        },
        {
          "name": "Median_Sale_Price",
          "label": "Median Sale Price",
          "type": "Numeric",
          "saqlExpression": "'X2012'",
          "precision": 18,
          "scale": 2,
          "defaultValue": "0"
        }
      ],
      "source": "X02_02_enrich_CountyState"
    }
  },
  "X02_03_enrich_2013": {
    "action": "computeExpression",
    "parameters": {
      "mergeWithSource": true,
      "computedFields": [
        {
          "name": "Year",
          "label": "Year",
          "type": "Text",
          "saqlExpression": "\"2013\"",
          "defaultValue": "\"2013\""
        },
        {
          "name": "Median_Sale_Price",
          "label": "Median Sale Price",
          "type": "Numeric",
          "saqlExpression": "'X2013'",
          "precision": 18,
          "scale": 2,
          "defaultValue": "0"
        }
      ],
      "source": "X02_02_enrich_CountyState"
    }
  },
  "X02_03_enrich_2014": {
    "action": "computeExpression",
    "parameters": {
      "mergeWithSource": true,
      "computedFields": [
        {
          "name": "Year",
          "label": "Year",
          "type": "Text",
          "saqlExpression": "\"2014\"",
          "defaultValue": "\"2014\""
        },
        {
          "name": "Median_Sale_Price",
          "label": "Median Sale Price",
          "type": "Numeric",
          "saqlExpression": "'X2014'",
          "precision": 18,
          "scale": 2,
          "defaultValue": "0"
        }
      ],
      "source": "X02_02_enrich_CountyState"
    }
  },
  "X02_03_enrich_2015": {
    "action": "computeExpression",
    "parameters": {
      "mergeWithSource": true,
      "computedFields": [
        {
          "name": "Year",
          "label": "Year",
          "type": "Text",
          "saqlExpression": "\"2015\"",
          "defaultValue": "\"2015\""
        },
        {
          "name": "Median_Sale_Price",
          "label": "Median Sale Price",
          "type": "Numeric",
          "saqlExpression": "'X2015'",
          "precision": 18,
          "scale": 2,
          "defaultValue": "0"
        }
      ],
      "source": "X02_02_enrich_CountyState"
    }
  },
  "X02_03_enrich_2016": {
    "action": "computeExpression",
    "parameters": {
      "mergeWithSource": true,
      "computedFields": [
        {
          "name": "Year",
          "label": "Year",
          "type": "Text",
          "saqlExpression": "\"2016\"",
          "defaultValue": "\"2016\""
        },
        {
          "name": "Median_Sale_Price",
          "label": "Median Sale Price",
          "type": "Numeric",
          "saqlExpression": "'X2016'",
          "precision": 18,
          "scale": 2,
          "defaultValue": "0"
        }
      ],
      "source": "X02_02_enrich_CountyState"
    }
  },
  "X02_03_enrich_2017": {
    "action": "computeExpression",
    "parameters": {
      "mergeWithSource": true,
      "computedFields": [
        {
          "name": "Year",
          "label": "Year",
          "type": "Text",
          "saqlExpression": "\"2017\"",
          "defaultValue": "\"2017\""
        },
        {
          "name": "Median_Sale_Price",
          "label": "Median Sale Price",
          "type": "Numeric",
          "saqlExpression": "'X2017'",
          "precision": 18,
          "scale": 2,
          "defaultValue": "0"
        }
      ],
      "source": "X02_02_enrich_CountyState"
    }
  },
  "X03_01_get_EDMakingEndsMeet": {
    "action": "edgemart",
    "parameters": {
      "alias": "External_Data_Making_Ends_Meet"
    }
  },
  "X03_02_enrich_CountyState": {
    "action": "computeExpression",
    "parameters": {
      "mergeWithSource": true,
      "source": "X03_01_get_EDMakingEndsMeet",
      "computedFields": [
        {
          "name": "State",
          "label": "State",
          "type": "Text",
          "saqlExpression": "\"California\"",
          "defaultValue": "\"California\""
        }
      ]
    }
  },
  "X03_03_SingleAdult": {
    "action": "computeExpression",
    "parameters": {
      "mergeWithSource": true,
      "source": "X03_02_enrich_CountyState",
      "computedFields": [
        {
          "name": "Family_Type",
          "label": "Family Type",
          "type": "Text",
          "saqlExpression": "\"Single Adult\"",
          "defaultValue": "\"Single Adult\""
        },
        {
          "name": "Income",
          "label": "Income",
          "type": "Numeric",
          "saqlExpression": "'Single_Adult'",
          "precision": 18,
          "scale": 2,
          "defaultValue": "0"
        }
      ]
    }
  },
  "X03_03_SingleParentFamily": {
    "action": "computeExpression",
    "parameters": {
      "mergeWithSource": true,
      "source": "X03_02_enrich_CountyState",
      "computedFields": [
        {
          "name": "Family_Type",
          "label": "Family Type",
          "type": "Text",
          "saqlExpression": "\"Single Parent Family\"",
          "defaultValue": "\"Single Parent Family\""
        },
        {
          "name": "Income",
          "label": "Income",
          "type": "Numeric",
          "saqlExpression": "'Single_Parent_Family'",
          "precision": 18,
          "scale": 2,
          "defaultValue": "0"
        }
      ]
    }
  },
  "X03_03_TwoParentOneWorking": {
    "action": "computeExpression",
    "parameters": {
      "mergeWithSource": true,
      "source": "X03_02_enrich_CountyState",
      "computedFields": [
        {
          "name": "Family_Type",
          "label": "Family Type",
          "type": "Text",
          "saqlExpression": "\"Two-Parent Family (One Working)\"",
          "defaultValue": "\"Two-Parent Family (One Working)\""
        },
        {
          "name": "Income",
          "label": "Income",
          "type": "Numeric",
          "saqlExpression": "'Two_Parent_Family_One_Working'",
          "precision": 18,
          "scale": 2,
          "defaultValue": "0"
        }
      ]
    }
  },
  "X03_03_TwoWorkingParents": {
    "action": "computeExpression",
    "parameters": {
      "mergeWithSource": true,
      "source": "X03_02_enrich_CountyState",
      "computedFields": [
        {
          "name": "Family_Type",
          "label": "Family Type",
          "type": "Text",
          "saqlExpression": "\"Two Working Parent Family\"",
          "defaultValue": "\"Two Working Parent Family\""
        },
        {
          "name": "Income",
          "label": "Income",
          "type": "Numeric",
          "saqlExpression": "'Two_Working_Parent_Family'",
          "precision": 18,
          "scale": 2,
          "defaultValue": "0"
        }
      ]
    }
  },
  "X03_04_append_FamilyTypeSplits": {
    "action": "append",
    "parameters": {
      "sources": [
        "X03_03_TwoWorkingParents",
        "X03_03_TwoParentOneWorking",
        "X03_03_SingleParentFamily",
        "X03_03_SingleAdult"
      ]
    }
  },
  "X03_05_split_CoreRows": {
    "action": "sliceDataset",
    "parameters": {
      "mode": "select",
      "fields": [
        {
          "name": "County"
        },
        {
          "name": "Family_Type"
        },
        {
          "name": "Income"
        },
        {
          "name": "State"
        }
      ],
      "source": "X03_04_append_FamilyTypeSplits"
    }
  },
  "X03_06_register_EDMakingEndsMeetTransposed": {
    "action": "sfdcRegister",
    "parameters": {
      "source": "X03_05_split_CoreRows",
      "alias": "External_Data_Making_Ends_Meet_Transposed",
      "name": "External Data - Making Ends Meet - Transposed"
    }
  },
  "X02_05_split_CoreRows": {
    "action": "sliceDataset",
    "parameters": {
      "mode": "select",
      "fields": [
        {
          "name": "Median_Sale_Price"
        },
        {
          "name": "RegionName"
        },
        {
          "name": "State"
        },
        {
          "name": "Year"
        }
      ],
      "source": "X02_04_append_ALL"
    }
  },
  "X01_05_split_CoreRows": {
    "action": "sliceDataset",
    "parameters": {
      "mode": "select",
      "fields": [
        {
          "name": "County"
        },
        {
          "name": "Homeownership_Rate"
        },
        {
          "name": "Population"
        },
        {
          "name": "Race"
        },
        {
          "name": "Region"
        },
        {
          "name": "State"
        },
        {
          "name": "Urban_Nonurban"
        }
      ],
      "source": "X01_04_append_RaceSplits"
    }
  }
}